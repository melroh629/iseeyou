# ISeeYou TODO 리스트

## 📦 릴리즈 내역

### v0.5.0 - 수업 관리 CRUD 완성 (2025-11-16)
- ✅ 수업 생성 (기본/고급 모드)
  - 기본 모드: 주간 반복 패턴 선택
  - 고급 모드: 개별 날짜 직접 선택 (캘린더)
- ✅ 수업 목록 조회 (일정 개수, 날짜 범위 표시)
- ✅ 수업 상세 조회 (Material Design 스타일)
  - 테이블 → 카드 리스트로 변경
  - 스티키 날짜 헤더
  - 미니멀한 디자인 (border 최소화, 그림자 효과)
- ✅ 수업 타입 수정 (이름, 설명, 색상, 취소 기한)
- ✅ 수업 타입 삭제 (예약 없는 일정 자동 삭제)
- ✅ 개별 일정 수정/삭제
- ✅ Database 스키마 개선
  - classes 테이블에 notes, type, template_id 컬럼 추가
  - class_types 테이블에 color 컬럼 추가
  - class_templates 테이블 생성 (주간 패턴 저장)

### v0.4.0 - 수강권 템플릿 시스템 (2025-11-13)
- ✅ enrollments.student_id nullable로 변경 (템플릿 지원)
- ✅ 수강권 생성 Dialog 개선 (템플릿/직접발급 선택)
- ✅ 수강권 목록에 템플릿 배지 표시
- ✅ 학생 관리에서 수강권 할당 기능 추가
- ✅ API 추가 (템플릿 조회, 수강권 할당)
- ✅ 스튜디오 메이트 방식의 수강권 관리 시스템 구현

### v0.3.0 - 수강권 관리 (2025-11-11)
- ✅ class_types 테이블 데이터 추가 (캐니크로스, 오비디언스)
- ✅ 수강권 목록 조회 (카드 형식, D-Day 표시)
- ✅ 수강권 발급 Dialog (학생/수업 선택)
- ✅ API 구현 (학생 목록, 수업 종류, 수강권 발급)
- ✅ otp_codes RLS 활성화 (보안 강화)

### v0.2.0 - 수강생 관리 (2025-11-11)
- ✅ 수강생 목록 조회 (카드 형식)
- ✅ 수강생 추가 Dialog + API
- ✅ 전화번호 중복 체크 및 자동 포맷팅
- ✅ UUID 생성 문제 해결
- ✅ users 테이블 외래키 제약 제거
- ✅ RLS 우회 (Service Role Key 사용)

### v0.1.0 - 초기 배포 (2025-11-10)
- ✅ Vercel 배포 성공
- ✅ Cool SMS 연동 (실제 문자 인증 성공)
- ✅ JWT 기반 관리자 인증
- ✅ middleware API 경로 제외
- ✅ 데이터베이스 스키마 설계
- ✅ RLS 정책 설정

---

## 🔴 프로덕션 배포 전 필수 작업

### 보안
- [ ] **Cool SMS CIDR 설정 변경** - 현재 `0.0.0.0/0` (모든 IP 허용) → Vercel 서버 IP로 제한
- [x] `.env.local` 파일이 `.gitignore`에 포함되어 있는지 확인
- [x] Supabase RLS 정책 최종 검토
- [x] otp_codes RLS 활성화

### 인증
- [x] Cool SMS 발신번호 등록 (01028700629)
- [x] 프로덕션 환경에서 실제 SMS 발송 테스트

---

## 📝 기능 개발 진행 상황

### v1 (MVP) - 관리자 기능
- [x] 데이터베이스 스키마 설계
- [x] RLS 정책 설정
- [x] 관리자 로그인 (OTP 인증)
- [x] Cool SMS 연동
- [x] 수강생 관리 (목록 조회, 추가)
- [x] 수강권 관리 (템플릿 생성, 할당, 목록 조회)
- [x] **수업 일정 관리** (완료 ✅)
  - [x] 그룹 수업 생성
  - [x] 프라이빗 수업 생성
  - [x] 수업 일정 수정/삭제
  - [x] 수업 상태 관리 (예정/취소/완료)
- [ ] 예약 관리
  - [ ] 예약 목록 조회
  - [ ] 예약 상세 정보
  - [ ] 예약 취소 처리
- [ ] 대시보드 개선
  - [ ] 오늘의 수업 목록
  - [ ] 최근 예약 내역

### v2 (추후) - 수강생 기능
- [ ] 수강생 로그인
- [ ] 수강생 수업 예약 페이지
- [ ] 내 수강권 조회
- [ ] 내 예약 내역
- [ ] 카카오톡 알림 연동
- [ ] 결제 시스템 연동
- [ ] 강아지 프로필 상세 관리
- [ ] 수업 사진/영상 공유
- [ ] 트레이닝 진행도 기록

---

## 🐛 버그 / 개선사항

### 알려진 이슈
- 없음

### 개선 계획
- [ ] Node.js 버전 업그레이드 (18 → 20)
- [ ] 수강권 수정 기능
- [ ] 수강권 사용 내역 조회
- [ ] 수강생 수정/삭제 기능

---

## 📊 현재 구현 상태

```
✅ 완료된 기능:
├── 🔐 인증 시스템
│   ├── 관리자 OTP 로그인
│   ├── JWT 세션 관리
│   └── Cool SMS 문자 인증
│
├── 👥 수강생 관리
│   ├── 수강생 목록 조회
│   ├── 수강생 추가
│   └── 수강권 할당
│
├── 🎫 수강권 관리 (템플릿 시스템)
│   ├── 수강권 템플릿 생성
│   ├── 수강권 직접 발급
│   ├── 수강권 목록 조회 (템플릿/발급 구분)
│   └── 학생에게 템플릿 할당
│
└── 📅 수업 일정 관리 (CRUD)
    ├── 수업 생성 (기본/고급 모드)
    ├── 수업 목록/상세 조회
    ├── 수업 타입 수정/삭제
    └── 개별 일정 수정/삭제

🚧 다음 작업:
└── 📝 예약 시스템

📋 대기 중:
└── 🎓 수강생 포털
```

---

**최종 업데이트:** 2025-11-16
**현재 버전:** v0.5.0
**다음 릴리즈:** v0.6.0 (예약 시스템)
